{"version":3,"sources":["src/baseComponent.js","src/modelAndControler.js","src/prijava.js"],"names":["Component","rootElementTag","rootElement","document","createElement","element","appendChild","elementList","forEach","module","exports","Controler","currentUser","user","dispatchEvent","CustomEvent","detail","localStorage","JSON","stringify","console","log","EventTarget","controler","username","getElementById","password","kontakt","addEventListener","prijava","registracija","database","firebase","firestore","collection","where","value","get","then","querySnapshot","doc","podaci","data","innerHTML","vecZauzeto","add","oglasi"],"mappings":"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","file":"prijava.2d6316d6.js","sourceRoot":"..","sourcesContent":["class Component {\r\n    constructor(rootElementTag) {\r\n        this.rootElement = document.createElement(rootElementTag);\r\n    }\r\n\r\n    addChild(element) {\r\n        this.rootElement.appendChild(element);\r\n    }\r\n\r\n    addChildren(elementList) {\r\n        elementList.forEach(element => {\r\n            this.rootElement.appendChild(element);\r\n        })\r\n    }\r\n}\r\n\r\nmodule.exports = Component;\r\n\r\n//import TodoApp from \"./components/todoApp\";\r\n","class Controler extends EventTarget {\r\n    constructor(){\r\n        super();\r\n        this.currentUser=\"\";\r\n    }\r\n\r\n    user(user){\r\n        this.dispatchEvent(\r\n            new CustomEvent(\r\n                \"currentUser\",\r\n                {detail: {user: user}}\r\n                )\r\n        );\r\n        localStorage[\"user\"] = JSON.stringify(user)\r\n        this.currentUser=user\r\n        console.log(this.currentUser)\r\n    }\r\n}\r\n\r\nmodule.exports = Controler;","\r\nimport Component from \"./baseComponent\";\r\nimport Controler from \"./modelAndControler\";\r\nlet controler = new Controler()\r\nlet username=document.getElementById(\"username\")\r\nlet password=document.getElementById(\"password\")\r\nlet kontakt=document.getElementById(\"kontakt\")\r\ndocument.getElementById(\"prijava\").addEventListener(\"click\", () => {prijava()});\r\ndocument.getElementById(\"registracija\").addEventListener(\"click\", () => {registracija()});\r\n\r\nfunction prijava(){\r\n    let database = firebase.firestore();\r\n    let prijava=false //gleda da li se korisnik uspio prijaviti tj. da li je ispravno i username i password\r\n    database.collection(\"korisnici\").where(\"username\", \"==\", username.value).get().then(function (querySnapshot) {\r\n        querySnapshot.forEach(function (doc) {\r\n          let podaci = doc.data();\r\n          console.log(podaci)\r\n          if(podaci.password==password.value){\r\n            console.log(`Uspjesna prijava ${podaci.username}`);\r\n              prijava=true //korisnik se prijavio\r\n              controler.user(podaci)\r\n          }\r\n        });\r\n        prijava==false ? console.log(\"Netocno korisnicko ime ili lozinka\") : document.getElementById(\"link\").innerHTML=`<a href=\"index.html\">Natrag na početnu</a>`; //korisnik se nije prijavio\r\n      });\r\n    \r\n    }\r\n\r\nfunction registracija(){\r\n    let database = firebase.firestore();\r\n    let vecZauzeto=false //provjerava je li username vez zauzet\r\n    database.collection(\"korisnici\").get().then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            doc.data().username==username.value? vecZauzeto=true : false;\r\n        });\r\n        if(vecZauzeto== true){\r\n            console.log(\"Korisnicko ime koje ste upisali je već zauzeto\")\r\n        } else{\r\n            database.collection(\"korisnici\").add({\r\n                username: username.value,\r\n                password: password.value,\r\n                oglasi: []\r\n                })\r\n            console.log(`${username.value}, uspješno ste se registrirali `)\r\n            document.getElementById(\"link\").innerHTML=`<a href=\"index.html\">Natrag na početnu</a>`\r\n            controler.user({oglasi:[], username: username.value, password: password.value,})\r\n          \r\n        }\r\n        });\r\n        \r\n    } \r\n\r\n"]}